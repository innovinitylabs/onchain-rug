function dRF(a,b){if(!fl||fl==="None")return;push();let c=34,d=16,e=55+c+d;translate(-e,-e);push();translate(2*f,2*f);let w0=a+2*e,h0=b+2*e;let pG=[color(255,215,40),color(212,175,55),color(160,120,40)],pB=[color(205,127,50),color(150,80,30),color(110,60,20)],pS=[color(230,230,230),color(192,192,192),color(130,130,130)],pP=[color(229,228,226),color(200,200,210),color(180,180,190)],pD=[color(185,242,255),color(220,250,255),color(255,255,255)];let pal={G:pG,B:pB,S:pS,P:pP,D:pG},palette=pal[fl]||pG;let params={motifStep:44,motifSize:18,cornerSize:48},motifR=params.motifSize/2;let motifPalette=fl==="D"?pD:palette;function drawConcentricRects(n,s,f0,f1,wS,wE,lF){for(let i=0;i<n;i++){let t=i/(n-1),lt=lF?lF(t):t,col=lerpColor(f0,f1,lt);noFill();stroke(col);let sw=lerp(wS,wE,t),inset=s+i+sw/2;rect(inset,inset,w0-2*inset,h0-2*inset),strokeWeight(sw)}}function drawMotif(x,y,ex,ey,ax,ay,as,ae){if(fl==="D")fill(motifPalette[0]);else noFill();stroke(motifPalette[0]);strokeWeight(2.2);ellipse(x,y,ex,ey);noFill();stroke(motifPalette[2]);strokeWeight(2.2);arc(ax,ay,motifR*1.1,motifR*1.1,as,ae)}drawConcentricRects(c,0,palette[2],palette[0],4,1,t=>0.2+0.7*(1-t));drawConcentricRects(d,c,palette[1],palette[2],2,.8,t=>t*0.7+0.3);let edges=[{pos:c/2,isHorizontal:!0,arcOffset:motifR*0.1,arcAngles:[PI*1.05,PI*2-0.05],range:[c/2+params.cornerSize,w0-c/2-params.cornerSize]},{pos:h0-c/2,isHorizontal:!0,arcOffset:-motifR*0.1,arcAngles:[.05,PI-.05],range:[c/2+params.cornerSize,w0-c/2-params.cornerSize]},{pos:c/2,isHorizontal:!1,arcOffset:motifR*0.1,arcAngles:[PI*1.55,PI*2.45],range:[c/2+params.cornerSize,h0-c/2-params.cornerSize]},{pos:w0-c/2,isHorizontal:!1,arcOffset:-motifR*0.1,arcAngles:[PI*.55,PI*1.45],range:[c/2+params.cornerSize,h0-c/2-params.cornerSize]}];for(let edge of edges)for(let coord=edge.range[0];coord<edge.range[1];coord+=params.motifStep){let ex=edge.isHorizontal?coord:edge.pos,ey=edge.isHorizontal?edge.pos:coord,ew=edge.isHorizontal?params.motifSize:params.motifSize*0.7,eh=edge.isHorizontal?params.motifSize*0.7:params.motifSize,ax=edge.isHorizontal?coord:edge.pos+edge.arcOffset,ay=edge.isHorizontal?edge.pos+edge.arcOffset:coord;drawMotif(ex,ey,ew,eh,ax,ay,edge.arcAngles[0],edge.arcAngles[1])}let sInset=0+c+d+4;noFill();stroke(40,30,10,60);strokeWeight(3.2);rect(sInset,sInset,w0-2*sInset,h0-2*sInset);pop();pop();}